schema: '2.0'
stages:
  data:
    cmd: make data
    deps:
    - path: src/data/make_dataset.py
      md5: 740f1691d70520da59a72c8ee236fefa
      size: 2384
    outs:
    - path: data/raw
      md5: 87bb5025b342dce499fe38b06aba7132.dir
      size: 89823
      nfiles: 2
  featurize:
    cmd: make features
    deps:
    - path: data/raw/test.csv
      md5: 029c9cd22461f6dbe8d9ab01def965c6
      size: 28629
    - path: data/raw/train.csv
      md5: 61fdd54abdbf6a85b778e937122e1194
      size: 61194
    - path: src/features/build_features.py
      md5: 6583e4cf0e38770ac2103c6d184cff77
      size: 7310
    params:
      params.yaml:
        dataset.target: Survived
        prepare.random_state: 3141592
        prepare.test_size: 0.3
    outs:
    - path: data/processed
      md5: 48e22359720a2750cba92c3341f64b22.dir
      size: 1014818
      nfiles: 2
    - path: models/features.joblib
      md5: 6a842259c6ddd406d92aaefea7f2c34e
      size: 8094
  train:
    cmd: make train
    deps:
    - path: data/processed/train.joblib
      md5: e9d785f2debf23ad7aeb4f890faf22d4
      size: 709049
    - path: src/models/train_model.py
      md5: d8dd7cfbe198055c3b69cde0a07ee8c1
      size: 3203
    params:
      params.yaml:
        dataset.target: Survived
        train.clf: RandomForestClassifier
        train.clf_params:
          random_state: 2077
          n_estimators: 20
          min_samples_split: 2
          max_depth: 5
          n_jobs: -1
    outs:
    - path: models/model.joblib
      md5: 03457dba05a3f5120feb8f199e20af3b
      size: 55863
  evaluate:
    cmd: make evaluation
    deps:
    - path: data/processed/test.joblib
      md5: 62511f9f8328c0fbfe41f4ab524d40b3
      size: 305769
    - path: models/model.joblib
      md5: 03457dba05a3f5120feb8f199e20af3b
      size: 55863
    - path: src/models/evaluate_model.py
      md5: 1aeaa1a15962207db1edd2cad830e6c2
      size: 5320
    params:
      params.yaml:
        dataset.target: Survived
    outs:
    - path: reports/cfm.json
      md5: f3b678844685b171afadce43bdee68ec
      size: 19585
    - path: reports/prc.json
      md5: 69fb9364f94cf2d2b95e0a35bf9e03fa
      size: 19194
    - path: reports/roc.json
      md5: 61c2040f6dbde34d5d7eab215e68a0fa
      size: 12270
    - path: reports/scores.json
      md5: 7fa95ef53c3317295e8e7e25b57c46f4
      size: 230
